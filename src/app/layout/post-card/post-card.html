
<div class="card shadow-effect" (click)="onCardClick()" [style.cursor]="'pointer'">
    <div class="image-container">
        <img [src]="postData?.data?.postImg || 'https://images.pexels.com/photos/8693381/pexels-photo-8693381.jpeg'" 
             [alt]="postData?.data?.title || 'post card image'" 
             class="card-image-top">

        <!-- Audio Indicator Badge -->
        <div class="audio-indicator" *ngIf="hasAudio()">
            <i class="fas fa-music"></i>
        </div>

        <!-- Volume Control - Right Side -->
        <div class="volume-control-side" *ngIf="hasAudio()">
            <div class="volume-controls-container">
                <div class="volume-icon">
                    <i class="fas fa-volume-up"></i>
                </div>
                <input 
                    type="range" 
                    class="volume-slider-side"
                    min="0" 
                    max="1" 
                    step="0.01"
                    [value]="getCurrentVolume()"
                    (input)="onVolumeChange($event)"
                    (click)="$event.stopPropagation()">
                <div class="volume-percentage">{{Math.round(getCurrentVolume() * 100)}}%</div>
            </div>
        </div>

        <!-- Audio Player Overlay -->
        <div class="audio-overlay" *ngIf="hasAudio()">
            <app-audio-player 
              [audioUrl]="getAudioUrl()!"
              [postId]="postData?.id"
              [trackTitle]="getAudioTitle()"
              (click)="$event.stopPropagation()">
            </app-audio-player>
        </div>
    </div>

    <!-- Date badge - commented out but can be restored later
    <small class="bg-light text-warning text-center date-badge">
        {{ postData?.data?.createdAt?.seconds ? (postData.data.createdAt.seconds * 1000 | date:'MMM dd, yyyy') : 'Jan 01, 2003' }}
    </small>
    -->

    <div class="card-body">
        <small class="bg-light text-danger text-center">{{ postData?.data?.category?.category || 'Design' }}</small>
        <small class="bg-light text-info text-center ml-3">Views - {{ postData?.data?.views || 0 }}</small>

        <h5 class="mt-1">{{ postData?.data?.title || 'How to build a website with Flic!!!' }}</h5>
        <p>{{ postData?.data?.excerpt || 'Lorem ipsum dolor sit amet consectetur adipisicing elit...' }}</p>
    </div>
</div>
